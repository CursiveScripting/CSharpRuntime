<Processes>
<Process name="Test.MorningRoutine">
	<Description>Runs a test morning routine sequence</Description>
	<Input name="Me" type="person" />
	<Input name="Car" type="car" />
	<Output name="My age" type="integer" />
  
  <Variable name="who" type="person" />
  <Variable name="car" type="car" />
  <Variable name="age" type="integer" initialValue="99" />
  <Variable name="ageID" type="text" initialValue="Age" />
  <Variable name="lowerAgeLimit" type="text" initialValue="10" />
  <Variable name="breakfastMsg1" type="text" initialValue="Making breakfast..." />
  <Variable name="breakfastMsg2" type="text" initialValue="Demanding breakfast... (young enough to get away with this)" />
  <Variable name="breakfastMsg3" type="text" initialValue="Eating breakfast..." />
  <Variable name="dressMsg1" type="text" initialValue="Getting dressed etc..." />
  <Variable name="carMsg1" type="text" initialValue="Getting in the car..." />
  
	<Steps>
    <Start ID="start">
      <Output name="Me" destination="who" />
      <Output name="Car" destination="car" />
      <ReturnPath targetStepID="getAge" />
    </Start>
		<Step ID="getAge" process="get">
			<Input name="property" source="ageID" />
			<Input name="object" source="who" />
			<Output name="value" destination="age" />
      <ReturnPath targetStepID="breakfastAgeCheck" />
		</Step>
		<Step ID="breakfastAgeCheck" process="compare">
			<Input name="value1" source="age" />
			<Input name="value2" source="lowerAgeLimit" />
      <NamedReturnPath name="greater" targetStepID="makeBreakfast" />
      <NamedReturnPath name="equal" targetStepID="makeBreakfast" />
      <NamedReturnPath name="error" targetStepID="demandBreakfast" />
			<NamedReturnPath name="less" targetStepID="demandBreakfast" />
		</Step>
		<Step ID="makeBreakfast" process="print">
			<Input name="message" source="breakfastMsg1" />
			<ReturnPath targetStepID="eatBreakfast" />
		</Step>
		<Step ID="demandBreakfast" process="print">
      <Input name="message" source="breakfastMsg2" />
			<ReturnPath targetStepID="eatBreakfast" />
		</Step>
		<Step ID="eatBreakfast" process="print">
      <Input name="message" source="breakfastMsg3" />
      <ReturnPath targetStepID="getReady" />
		</Step>
		<Step ID="getReady" process="print">
      <Input name="message" source="dressMsg1" />
      <ReturnPath targetStepID="checkDay" />
		</Step>
		<Step ID="checkDay" process="getDay">
      <NamedReturnPath name="Saturday" targetStepID="done" />
      <NamedReturnPath name="Sunday" targetStepID="done" />
      <NamedReturnPath name="Monday" targetStepID="getInCar" />
      <NamedReturnPath name="Tuesday" targetStepID="getInCar" />
      <NamedReturnPath name="Wednesday" targetStepID="getInCar" />
      <NamedReturnPath name="Thursday" targetStepID="getInCar" />
      <NamedReturnPath name="Friday" targetStepID="getInCar" />
		</Step>
		<Step ID="getInCar" process="print">
      <Input name="message" source="carMsg1" />
			<ReturnPath targetStepID="done" />
		</Step>
		<Stop ID="done">
			<Input name="My age" source="age" />
		</Stop>
	</Steps>
</Process>
</Processes>